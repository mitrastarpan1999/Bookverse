<%- include('./partials/head') %>
<%- include('./partials/header') %>

<h2>My Favorite Books ❤️</h2>
<ul class="book-list">
  <% books.forEach(book => { %>
    <li class="book-item">
      <% if (book.cover_id) { %>
        <img class="book-cover" src="https://covers.openlibrary.org/b/id/<%= book.cover_id %>-M.jpg" alt="Book Cover" />
      <% } %>
      <strong class="book-title"><%= book.title %></strong>
      <div class="book-meta">
        <span>by <%= book.author %></span>
        <span>Read on: <%= book.date_read %></span>
      </div>
      <div class="rating">
        Rating: 
        <div class="stars">
          <% for(let i = 0; i < book.rating; i++) { %>★<% } %>
          <% for(let i = book.rating; i < 5; i++) { %>☆<% } %>
        </div>
      </div>
      <div class="book-notes">
        <%= book.notes %>
      </div>
    </li>
  <% }); %>
</ul>

<%- include('./partials/footer') %>
